relations:
- [neutron-dynamic-routing, rabbitmq-server]
- [neutron-dynamic-routing, quagga]
- [keystone, mysql]
- [neutron-api, mysql]
- [neutron-api, rabbitmq-server]
- [neutron-api, keystone]
applications:
  keystone:
    charm: cs:~openstack-charmers/keystone
    channel: candidate
    constraints: mem=1G
    num_units: 1
    options:
      openstack-origin: 'cloud:bionic-ussuri'
      haproxy-server-timeout: 90000
      haproxy-client-timeout: 90000
      haproxy-queue-timeout: 9000
      haproxy-connect-timeout: 9000
    series: bionic
  mysql:
    charm: cs:~openstack-charmers/percona-cluster
    channel: candidate
    constraints: mem=4G
    num_units: 1
    options: {source: 'cloud:bionic-ussuri'}
    series: bionic
  neutron-api:
    charm: cs:~openstack-charmers/neutron-api
    channel: candidate
    constraints: mem=1G
    num_units: 1
    options:
      manage-neutron-plugin-legacy-mode: true
      neutron-plugin: ovs
      flat-network-providers: physnet1,
      neutron-security-groups: true
      openstack-origin: 'cloud:bionic-ussuri'
      haproxy-server-timeout: 90000
      haproxy-client-timeout: 90000
      haproxy-queue-timeout: 9000
      haproxy-connect-timeout: 9000
    series: bionic
  neutron-dynamic-routing:
    charm: ../../../neutron-dynamic-routing
    num_units: 1
    options: {openstack-origin: 'cloud:bionic-ussuri'}
    series: bionic
  rabbitmq-server:
    charm: cs:~openstack-charmers/rabbitmq-server
    channel: candidate
    constraints: mem=1G
    num_units: 1
    options: {source: 'cloud:bionic-ussuri'}
    series: bionic
  quagga:
    charm: cs:~openstack-charmers-next/quagga
    num_units: 1
    series: bionic
